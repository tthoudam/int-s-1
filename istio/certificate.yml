apiVersion: cas-issuer.jetstack.io/v1beta1
kind: GoogleCASClusterIssuer
metadata:
  name: cas-issuer
spec:
  project: boreal-mode-295611
  location: europe-west1
  caPoolId: istio-ca-pool
  # googleServiceAccountEmail: cert-manager-cas-issuer-sa@boreal-mode-295611.iam.gserviceaccount.com
---
apiVersion: cert-manager.io/v1
kind: Certificate
metadata:
  name: myapp-myorg-com-cert
  namespace: istio-system
spec:
  secretName: myapp-ingress-tls  # Used in Istio Gateway `credentialName`
  duration: 2160h # 90d
  renewBefore: 360h # 15d
  commonName: myapp.myorg.com
  dnsNames:
    - app.example.com
  issuerRef:
    name: cas-issuer
    kind: GoogleCASClusterIssuer
    group: cas-issuer.jetstack.io
